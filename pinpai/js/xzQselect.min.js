/*
*模拟下拉列表
*版本：xzQselect 1.0.0
*基本使用方法，将select标签用一个带有data-select属性的div包裹即可
*可以传入样式作为参数。例：$(selecter).xzQselect({
    Pcss:{样式对象}, 当前选项样式
    ULcss:{样式对象}, 选择列表样式
    SELcss:{样式对象} 外部盒子样式
*一般可以不传，通过css自定义即可   
});
*/
(function(d,c,b){var a=(function(){function e(g,f){this.settings=b.extend(true,b.fn.xzQselect.option,f||{});this.warp=b(g);this.init()}e.prototype={init:function(){this.selDom=this.warp.find("select");this.optDom=this.warp.find("option");this.optLength=this.optDom.length;this.ind=0;this.warp.find("select").hide();this.bournDom();this.cloneClass();this.ul.css(this.settings.ULcss);this.p.css(this.settings.Pcss);this.div.css(this.settings.SELcss);this.selectActive()},cloneClass:function(){this.slectClass=this.selDom.attr("class");this.optionClass=this.optDom.attr("class");this.div=this.warp.find("div");this.ul=this.warp.find("ul");this.li=this.warp.find("li");this.p=this.warp.find(".p");this.div.attr("class",this.slectClass);this.li.attr("class",this.optionClass)},bournDom:function(){this.warp.append("<div></div>");this.warp.find("div").append("<p class='p'>"+this.currentText()+"</p>");this.warp.find("div").append("<ul></ul>");for(var f=0;f<this.optLength;f++){this.warp.find("div").find("ul").append("<li>"+this.optDom.eq(f).text()+"</li>")}},currentText:function(){for(var f=0;f<this.optDom.length;f++){if(b(this.optDom[f]).attr("selected")){this.currtx=b(this.optDom[f]).text();return this.currtx}this.currtx=b(this.optDom[0]).text()}return this.currtx},selectActive:function(){var f=this;f.li.click(function(){f.ind=b(this).index();f.currtx=f.optDom.eq(f.ind).text();f.optDom.eq(f.ind).attr("selected","selected").siblings("option").removeAttr("selected");f.p.text(f.currtx)});f.div.click(function(){f.isShow()?f.ul.slideDown(200):f.ul.slideUp(200)});b("body").click(function(g){if(g.target==this&!f.isShow()){f.ul.slideUp(200)}})},isShow:function(){if(this.ul.css("display")=="block"){return false}return true},};return e})();b.fn.xzQselect=function(e){return this.each(function(){var f=b(this);insetance=f.data("xzQselect");if(!insetance){f.data("xzQselect",insetance=new a(f,e))}})};b.fn.xzQselect.option={Pcss:{},ULcss:{"position":"absolute","left":"-1px","top":b(this).find(".p").height()+"px","display":"none","width":"100%","border":"1px solid #d7d7d7","border-radius":"5px",},SELcss:{"position":"relative"}};b(function(){b("[data-select]").xzQselect()})}(window,document,jQuery));